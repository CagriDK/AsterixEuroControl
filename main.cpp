#include <iostream>

#include <chrono>
#include <cstdlib>
#include <thread>
#include <memory>
#include <fstream>
#include <stdexcept>
#include <string>
#include <vector>
#include <cassert>
#include <algorithm>

#include "CATMessages/AsterixMessages.h"
#include "include/RadarClientMessageHandler.h"

int main(int, char **)
{
    // const char *data = "\x30\x00\x30\xFD\xF7\x02\x19\xC9\x35\x6D\x4D\xA0\xC5\xAF\xF1\xE0\x02\x00\x05\x28\x3C\x66\x0C\x10\xC2\x36\xD4\x18\x20\x01\xC0\x78\x00\x31\xBC\x00\x00\x40\x0D\xEB\x07\xB9\x58\x2E\x41\x00\x20\xF5";
    // const char *data = "\x3e\x00\x26\x97\x5d\x20\x01\x02\x37\x8d\xc0\xff\xe3\xbe\x00\xc7\x9f\xff\xfb\xff\xee\x0f\xcf\x21\x01\x10\x8d\x16\x00\x2a\x01\x83\x01\x01\x01\x18\x00\x3d\x3e\x00\x26\x97\x5d\x20\x01\x02\x37\x8d\xc0\xf2\xa9\x27\xff\x5a\x84\x03\x85\xff\x48\x09\xbd\x21\x01\x10\x48\x34\x07\xf3\x00\xe8\x01\x01\x01\x58\x04\xd4\x3e\x00\x26\x97\x5d\x20\x01\x02\x37\x8d\xc0\xfc\x9f\x7e\x06\x4d\x7d\x01\x29\xfe\x3d\x0e\xbd\x21\x01\x10\x68\x48\x04\xac\x01\x04\x01\x01\x01\x58\x02\x2c\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\x03\xb7\x18\x03\x9e\x00\x00\x87\xff\xfe\x0e\x00\x21\x01\x10\x40\xe2\x01\x2c\x01\xde\x01\x01\x01\x58\xf0\x00\x40\x00\x5f\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\xf6\xce\x1e\x04\xb5\xa7\x01\x72\xfc\xbc\x00\xd7\x21\x01\x10\x6e\xfc\x07\xe7\x02\x46\x01\x01\x01\x58\xf0\x05\xc8\x00\x00\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\x08\x3f\xc2\x08\x28\xb3\x00\x74\xfd\x1e\x09\x4a\x21\x01\x10\x79\xa6\x06\x76\x01\x1d\x01\x01\x01\x58\xf0\x05\x78\xff\xfc\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\xf8\x61\x35\xfb\x02\xe9\xfe\xf1\xfd\xed\x09\x6c\x21\x01\x10\x93\x40\x05\x27\x01\x3c\x01\x01\x01\x58\xf4\x02\x0c\x01\x5b\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\xf9\xdb\xa8\x07\x8d\xd6\x02\x95\xfd\xb2\x04\x6a\x21\x01\x10\x5d\xae\x07\xaa\x01\x96\x01\x01\x01\x58\xf0\x05\x78\x00\x00\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\xf2\x0e\xbe\xfb\x9d\xc5\xfe\xa3\x02\x02\x02\xaf\x21\x01\x10\xe7\xad\x05\x60\x01\x85\x01\x01\x01\x58\xf0\x05\xa0\x00\x00\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\xf8\xc7\x2b\xf9\x9b\x39\x00\x3f\x02\xc3\x00\x94\x21\x01\x10\x03\xa4\x06\x24\x00\x13\x01\x01\x01\x58\xf4\x03\x44\x01\x76\x3e\x00\x29\x97\x5d\xa4\x01\x02\x37\x8d\xc0\xfb\x7c\x4f\x05\xa1\xac\x01\xc5\xfd\xe2\x0e\xe1\x21\x01\x10\x63\x9f\x06\x1d\x00\x11\x01\x01\x01\x58\xf4\x03\x60\x01\x19";
    // const char *data = "\x22\x00\x14\xf6\x00\x02\x02\x41\x6d\xec\x40\x94\x40\x60\x44\x00\x94\x00\x00\x10";
    // const char *data = "\x15\x00\x24\xfb\x81\x13\x80\x00\x05\x40\x30\x1c\x29\x3e\x00\x6e\x4c\xc9\xff\xe6\x06\xd6\x49\x6c\x2e\x00\x08\x08\x18\xdc\x31\xca\x08\x20\x00\x15";

    //Veriler bize bu sekilde gelecegi icin d√ºzeltilmistir.
    
    const char *data = "22000bf099000256b9c688"; 
    std::vector<char> vec(data, data + strlen(data));
    RadarClientMessageHandler radarMsgHandler;
    radarMsgHandler.asterixMessageParser(vec);
}
